<!--
@license
Copyright (c) 2017 Rogers Manufacturing Company. All rights reserved.
-->

<!-- Polymer -->
<link rel="import" href="../bower_components/polymer/polymer.html">

<!-- RMC Elements -->
<link rel="import" href="../bower_components/rmc1891-elements/rmc.html">

<!-- Iron Image -->
<link rel="import" href="../bower_components/iron-image/iron-image.html">

<!-- Iron Pages -->
<link rel="import" href="../bower_components/iron-pages/iron-pages.html">

<!-- App Location -->
<link rel="import" href="../bower_components/app-route/app-location.html">

<!-- App Route -->
<link rel="import" href="../bower_components/app-route/app-route.html">

<dom-module id="rmc-shell">
    <template>
        <app-location route="{{route}}"></app-location>
		<app-route route="{{route}}" pattern="/:page" data="{{routeData}}"></app-route>

		<iron-pages
			selected="[[page]]"
			attr-for-selected="id"
			fallback-selection="home"
			role="main">
			
			
			<div id="home">
				<!-- carousel -->
				<div id="mainCarouselIndicators" class="carousel slide" data-ride="carousel">

				  <!-- carousel indicators -->
				  <ol class="carousel-indicators">
					<li data-target="#mainCarouselIndicators" data-slide-to="0" class="active"></li>
					<li data-target="#mainCarouselIndicators" data-slide-to="1"></li>
				  </ol>
				  <div class="carousel-inner" role="listbox">

					<!-- slide 1 -->
					<div class="carousel-item active" role="option">
					  <img class="img-responsive" src="images/carousel/slide1.jpg" alt="First slide">
					  <div class="carousel-caption d-none d-block">
						<h3>Rogers Manufacturing Company</h3>
						<p>Manufacturing Company Established in 1891.</p>
					  </div>
					</div>

					<!-- slide 2 -->
					<div class="carousel-item" role="option">
						<!-- <img class="img-responsive" src="images/carousel/slide2.jpg" alt="Second slide"> -->
						<iron-image class="img-responsive" preload src="images/carousel/slide2.jpg" alt="Second slide"></iron-image>
						
						<div class="carousel-caption d-none d-block">
						  <h3>Quality</h3>
						  <p>Over 60 years of experience in Plastic Injection Molding.</p>
						</div>
					</div>

				  </div>

				  <!-- carousel controls -->
				  <a class="carousel-control-prev" href="#mainCarouselIndicators" role="button" data-slide="prev">
					<span class="carousel-control-prev-icon" aria-hidden="true"></span>
					<span class="sr-only">Previous</span>
				  </a>

				  <a class="carousel-control-next" href="#mainCarouselIndicators" role="button" data-slide="next">
					<span class="carousel-control-next-icon" aria-hidden="true"></span>
					<span class="sr-only">Next</span>
				  </a>
				</div>
				<!-- /carousel -->

				<!-- container -->
				<div class="container">

					<!-- jumbotron -->
					<rmc-jumbotron title="The Rogers Manufacturing Company"
								   text="Manufacturing Company Established in 1891."
								   button="Learn more"
								   link="#"></rmc-jumbotron>

					<!-- feature cards -->
					<rmc-feature-cards></rmc-feature-cards>
					
					The page is [[page]]
					
				</div>
				<!-- /container -->
			</div>
			
			<div id="about">
				<br><br><br><br><br><br><br><br><br>
				ABOUT<br>ABOUT<br>ABOUT
			</div>
			
			<div id="capabilities">
				<br><br><br><br><br><br><br><br><br>
				Capabilities<br>Capabilities<br>Capabilities
			</div>
			
			<div id="contact">
				<br><br><br><br><br><br><br><br><br>
				Contact<br>Contact<br>Contact
			</div>
		</iron-pages>

    </template>

  <script>
    class RMCShell extends Polymer.Element {
      static get is() { return 'rmc-shell'; }

      static get properties() {
        return {
			page: {
				type: String,
				reflectToAttribute: true
			},
			routeData: Object
        };
      }
	  
	  static get observers() {
        return [
          '_routePageChanged(routeData.page)',
        ];
      }
	  
	  _routePageChanged(page) {
        // Polymer 2.0 will call with `undefined` on initialization.
        // Ignore until we are properly called with a string.
        if (page === undefined) {
          return;
        }
        // If no page was found in the route data, page will be an empty string.
        // Deault to 'home' in that case.
        this.page = page || 'home';
      }
    }

    window.customElements.define(RMCShell.is, RMCShell);
  </script>
</dom-module>
