<!--
@license
Copyright (c) 2017 Rogers Manufacturing Company. All rights reserved.
-->

<!-- Polymer -->
<link rel="import" href="../../node_modules/@npm-polymer/polymer/polymer-element.html">

<!-- Template Repeater -->
<link rel="import" href="../../node_modules/@npm-polymer/polymer/lib/elements/dom-repeat.html">

<!-- Iron Ajax -->
<link rel="import" href="../../node_modules/@npm-polymer/iron-ajax/iron-ajax.html">

<dom-module id="view-admin">
  <template>
    
    <!-- container -->
    <div class="container">
    
        <h2> Admin Site </h2>
        
        <iron-ajax
            auto
            url="https://therogersmanufacturingcompany.com/feature_cards.php"
            handle-as="json"
            last-response="{{featureCards}}"
        ></iron-ajax>
        
        <form action="feature_cards_update.php" method="POST">
            
            <template is="dom-repeat" items="[[featureCards]]">
                <div class="form-group">
                    <label for="[[item.title]]">[[item.title]]</label>
                    <textarea name$="[[item.title]]Text" class="form-control" name="message" rows="5">[[item.text]]</textarea>
                </div>
            </template>
            
            <button name="submit" type="submit" class="btn btn-primary">Save</button>
        </form>
        
    </div>
    <!-- /container -->
    
  </template>

  <script>
    class ViewAdmin extends Polymer.Element {
        static get is() { return 'view-admin'; }
    }
    window.customElements.define(ViewAdmin.is, ViewAdmin);
  </script>
</dom-module>
